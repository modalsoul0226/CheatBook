





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-hqbuBb0QOOmiWgl8a1V1N5q6TI/G0A2hVt/lCFYafR+fYsuXeRUcsdcb/yUyVEHYXktmUXl0Mx9s/BOUNZVq4w==" rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-23c9e7262eee71bc6f67f6950190a162.css" />
  <link crossorigin="anonymous" media="all" integrity="sha512-3hVGKwp3EP1XYe7jtewDAU5o/gNueZ3Xm7TL5zKnDaYFi8IeOCqIGitZS1FxnwJp75FLsc7VZSVUbez2mbopJg==" rel="stylesheet" href="https://assets-cdn.github.com/assets/github-9c3638342476c515de9c43a886aa2754.css" />
  
  
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>csc369_review/README.md at master Â· modalsoul0226/csc369_review</title>
    <meta name="description" content="GitHub is where people build software. More than 27 million people use GitHub to discover, fork, and contribute to over 80 million projects.">
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta property="og:image" content="https://avatars3.githubusercontent.com/u/22306146?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="modalsoul0226/csc369_review" /><meta property="og:url" content="https://github.com/modalsoul0226/csc369_review" /><meta property="og:description" content="csc369_review - Review for csc369" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6Mjc0NjYyNTE2OmQ1NGJiZTQ3YzYxYjI2YTkxOTVhMGZkYzlhZDVlN2ZhZjM0ZTU4NGU4OWI2YWViYzAzNjRjMWZkMTE1MjAwZTY=--68a7e7e7ce45e53028038343ef4255ce30fea179">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="5EE3:2B45:F054A5:16A3D6C:5B03736B" data-pjax-transient>


  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-request_id" content="5EE3:2B45:F054A5:16A3D6C:5B03736B" /><meta name="octolytics-dimension-region_edge" content="ap-southeast-1" /><meta name="octolytics-dimension-region_render" content="iad" /><meta name="octolytics-actor-id" content="22306146" /><meta name="octolytics-actor-login" content="modalsoul0226" /><meta name="octolytics-actor-hash" content="fdb07c523d098504f5fdf8b384016c6a1b5195a4a09b193f2190e73bd3c7b918" />
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />




  <meta class="js-ga-set" name="dimension1" content="Logged In">


  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="modalsoul0226">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="MDBkZWM0NTEyMmNiYTgwMDM4ZjdhMGE1ZjdmNzlkYWZjZjU3YzE1MDg5NmUwNjUxZTgxZjgzOTI3NWEzYmJmZnx7InJlbW90ZV9hZGRyZXNzIjoiNDkuODAuMTQ2Ljg1IiwicmVxdWVzdF9pZCI6IjVFRTM6MkI0NTpGMDU0QTU6MTZBM0Q2Qzo1QjAzNzM2QiIsInRpbWVzdGFtcCI6MTUyNjk1MjgxMiwiaG9zdCI6ImdpdGh1Yi5jb20ifQ==">

    <meta name="enabled-features" content="ASYNC_NEWS_FEED,UNIVERSE_BANNER,FREE_TRIALS,MARKETPLACE_INSIGHTS,MARKETPLACE_SELF_SERVE,MARKETPLACE_INSIGHTS_CONVERSION_PERCENTAGES,NEWS_FEED_EVENT_ROLLUPS,STAR_FROM_NEWS_FEED,FOLLOW_FROM_NEWS_FEED">

  <meta name="html-safe-nonce" content="4671922bcde2be87c2b0e78c7e9b0c397d1eaef2">

  <meta http-equiv="x-pjax-version" content="be7b8a2ac7b9e19ec5295cf6956b73a6">
  

      <link href="https://github.com/modalsoul0226/csc369_review/commits/master.atom" rel="alternate" title="Recent Commits to csc369_review:master" type="application/atom+xml">

  <meta name="description" content="csc369_review - Review for csc369">
  <meta name="go-import" content="github.com/modalsoul0226/csc369_review git https://github.com/modalsoul0226/csc369_review.git">

  <meta name="octolytics-dimension-user_id" content="22306146" /><meta name="octolytics-dimension-user_login" content="modalsoul0226" /><meta name="octolytics-dimension-repository_id" content="129664246" /><meta name="octolytics-dimension-repository_nwo" content="modalsoul0226/csc369_review" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="129664246" /><meta name="octolytics-dimension-repository_network_root_nwo" content="modalsoul0226/csc369_review" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="true" />


    <link rel="canonical" href="https://github.com/modalsoul0226/csc369_review/blob/master/README.md" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

<link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        
<header class="Header  f5" role="banner">
  <div class="d-flex flex-justify-between px-3 container-lg">
    <div class="d-flex flex-justify-between ">
      <div class="">
        <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg height="32" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>

      </div>

    </div>

    <div class="HeaderMenu d-flex flex-justify-between flex-auto">
      <div class="d-flex">
            <div class="">
              <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" data-scope-type="Repository" data-scope-id="129664246" data-scoped-search-url="/modalsoul0226/csc369_review/search" data-unscoped-search-url="/search" action="/modalsoul0226/csc369_review/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
    <label class="form-control header-search-wrapper  js-chromeless-input-container">
          <a class="header-search-scope no-underline" href="/modalsoul0226/csc369_review/blob/master/README.md">This repository</a>
      <input type="text"
        class="form-control header-search-input  js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s,/"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off"
        >
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

            </div>

          <ul class="d-flex pl-2 flex-items-center text-bold list-style-none" role="navigation">
            <li>
              <a class="js-selected-navigation-item HeaderNavlink px-2" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
                Pull requests
</a>            </li>
            <li>
              <a class="js-selected-navigation-item HeaderNavlink px-2" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">
                Issues
</a>            </li>
                <li>
                  <a class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar, group:" data-selected-links=" /marketplace" href="/marketplace">
                    Marketplace
</a>                </li>
            <li>
              <a class="js-selected-navigation-item HeaderNavlink px-2" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
                Explore
</a>            </li>
          </ul>
      </div>

      <div class="d-flex">
        
<ul class="user-nav d-flex flex-items-center list-style-none" id="user-links">
  <li class="dropdown js-menu-container">
    <span class="d-inline-block  px-2">
      
    <a aria-label="You have no unread notifications" class="notification-indicator tooltipped tooltipped-s  js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-channel="notification-changed:22306146" href="/notifications">
        <span class="mail-status "></span>
        <svg class="octicon octicon-bell" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.99 11.991v1H0v-1l.73-.58c.769-.769.809-2.547 1.189-4.416.77-3.767 4.077-4.996 4.077-4.996 0-.55.45-1 .999-1 .55 0 1 .45 1 1 0 0 3.387 1.229 4.156 4.996.38 1.879.42 3.657 1.19 4.417l.659.58h-.01zM6.995 15.99c1.11 0 1.999-.89 1.999-1.999H4.996c0 1.11.89 1.999 1.999 1.999z"/></svg>
</a>
    </span>
  </li>

  <li class="dropdown js-menu-container">
    <details class="details-expanded details-reset js-dropdown-details d-flex px-2 flex-items-center">
      <summary class="HeaderNavlink"
         aria-label="Create newâ¦"
         data-ga-click="Header, create new, icon:add">
        <svg class="octicon octicon-plus float-left mr-1 mt-1" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"/></svg>
        <span class="dropdown-caret mt-1"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="modalsoul0226/csc369_review">This repository</span>
  </div>
    <a class="dropdown-item" href="/modalsoul0226/csc369_review/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </details>
  </li>

  <li class="dropdown js-menu-container">

    <details class="details-expanded details-reset js-dropdown-details d-flex pl-2 flex-items-center">
      <summary class="HeaderNavlink name mt-1"
        aria-label="View profile and more"
        data-ga-click="Header, show menu, icon:avatar">
        <img alt="@modalsoul0226" class="avatar float-left mr-1" src="https://avatars3.githubusercontent.com/u/22306146?s=40&amp;v=4" height="20" width="20">
        <span class="dropdown-caret"></span>
      </summary>

      <ul class="dropdown-menu dropdown-menu-sw">
        <li class="dropdown-header header-nav-current-user css-truncate">
          Signed in as <strong class="css-truncate-target">modalsoul0226</strong>
        </li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="/modalsoul0226" data-ga-click="Header, go to profile, text:your profile">
          Your profile
        </a></li>
        <li><a class="dropdown-item" href="/modalsoul0226?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a></li>
          <li><a class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, your gists, text:your gists">Your gists</a></li>

        <li class="dropdown-divider"></li>

        <li><a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a></li>

        <li><a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
          Settings
        </a></li>

        <li><!-- '"` --><!-- </textarea></xmp> --></option></form><form class="logout-form" action="/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="2/+ImV+MHZfccPccM/PKDBR/JS3BwX0AJhzJL/41c0rB+TYWzoVBKH6kVOhxoUoFleySFU5n9A0ssJJObmIU3A==" />
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
        </form></li>
      </ul>
    </details>
  </li>
</ul>



        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="sr-only right-0" action="/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="Di/l3AxXqMk+g/ek9r6ELRU5CXpqr4KN2r+nn6ZqC18UKVtTnV70dpxXVFC07AQklKq+QuUJC4DQE/z+Nj1syQ==" />
          <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
            Sign out
          </button>
</form>      </div>
    </div>
  </div>
</header>

      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main" class="application-main ">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container >
      







  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form data-autosubmit="true" data-remote="true" class="js-social-container" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="eLtHPzYTtXHNsSOnhHatEzxhKHWYm30HgaZc5baNWkhaSGxOnd/R7v2zienXh12GBgLmbBW02vsleORC6Y5DNA==" />      <input type="hidden" name="repository_id" id="repository_id" value="129664246" class="form-control" />

        <div class="select-menu js-menu-container js-select-menu">
          <a href="/modalsoul0226/csc369_review/subscription"
            class="btn btn-sm btn-with-count select-menu-button js-menu-target"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
            aria-label="Toggle repository notifications menu"
            data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
                <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                Watch
            </span>
          </a>
          <a class="social-count js-social-count"
            href="/modalsoul0226/csc369_review/watchers"
            aria-label="0 users are watching this repository">
            0
          </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content">
            <div class="select-menu-header js-navigation-enable" tabindex="-1">
              <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
                  <div class="select-menu-item-text">
                    <input type="radio" name="do" id="do_included" value="included" checked="checked" />
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
                  <div class="select-menu-item-text">
                    <input type="radio" name="do" id="do_subscribed" value="subscribed" />
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                        Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
                  <div class="select-menu-item-text">
                    <input type="radio" name="do" id="do_ignore" value="ignore" />
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <svg class="octicon octicon-mute" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"/></svg>
                        Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="starred js-social-form" action="/modalsoul0226/csc369_review/unstar" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="xIshik+VD3ypVmmK6RryEbxtCfHWFG5TgxAh/6FNa3cIXiZCcNluB18yUQt+KPlmvAEEsGrJZLIhPmSKjPc+rg==" />
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar modalsoul0226/csc369_review"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/modalsoul0226/csc369_review/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="unstarred js-social-form" action="/modalsoul0226/csc369_review/star" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="TmJUQ3bdRDZqXEQx187H8GMzpz8lNmWk9rJ77hzDSzN+ESreKQbkrvBen9KmmydgSytk73zeynNKjHfNF672+w==" />
      <input type="hidden" name="context" value="repository"></input>
      <button
        type="submit"
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star modalsoul0226/csc369_review"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="/modalsoul0226/csc369_review/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>  </div>

  </li>

  <li>
          <a href="#fork-destination-box" class="btn btn-sm btn-with-count"
              title="Fork your own copy of modalsoul0226/csc369_review to your account"
              aria-label="Fork your own copy of modalsoul0226/csc369_review to your account"
              rel="facebox"
              data-ga-click="Repository, show fork modal, action:blob#show; text:Fork">
              <svg class="octicon octicon-repo-forked" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
            Fork
          </a>

          <div id="fork-destination-box" style="display: none;">
            <h2 class="facebox-header" data-facebox-id="facebox-header">Where should we fork this repository?</h2>
            <include-fragment src=""
                class="js-fork-select-fragment fork-select-fragment"
                data-url="/modalsoul0226/csc369_review/fork?fragment=1">
              <img alt="Loading" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif" width="64" height="64" />
            </include-fragment>
          </div>

    <a href="/modalsoul0226/csc369_review/network" class="social-count"
       aria-label="0 users forked this repository">
      0
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" href="/modalsoul0226">modalsoul0226</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="/modalsoul0226/csc369_review">csc369_review</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item selected reponav-item" itemprop="url" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /modalsoul0226/csc369_review" href="/modalsoul0226/csc369_review">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /modalsoul0226/csc369_review/issues" href="/modalsoul0226/csc369_review/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /modalsoul0226/csc369_review/pulls" href="/modalsoul0226/csc369_review/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /modalsoul0226/csc369_review/projects" href="/modalsoul0226/csc369_review/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>
    <a class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /modalsoul0226/csc369_review/wiki" href="/modalsoul0226/csc369_review/wiki">
      <svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>

  <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /modalsoul0226/csc369_review/pulse" href="/modalsoul0226/csc369_review/pulse">
    <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
    Insights
</a>
    <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_settings repo_branch_settings hooks integration_installations repo_keys_settings issue_template_editor /modalsoul0226/csc369_review/settings" href="/modalsoul0226/csc369_review/settings">
      <svg class="octicon octicon-gear" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/></svg>
      Settings
</a>
</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">

    
  <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/modalsoul0226/csc369_review/blob/9beeace9c0947b54d91b2b9c56757d19b8477508/README.md">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:9ec2932c86487f57a22476f7e1652b9e -->

  <div class="file-navigation">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Find or create a branchâ¦" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Find or create a branchâ¦">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Find or create a branchâ¦" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tagâ¦" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/modalsoul0226/csc369_review/blob/master/README.md"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
        </div>

          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-create-branch select-menu-item select-menu-new-item-form js-navigation-item js-new-item-form" action="/modalsoul0226/csc369_review/branches" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="WEpQ1QfR3BGzPFwaPN/ajiOk5faO0ZSBsA3xLydZZIeGah/lSQkACQOFmDhtl0hud6+PEHvzzJEDnm0X8EZi/w==" />
          <svg class="octicon octicon-git-branch select-menu-item-icon" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
            <div class="select-menu-item-text">
              <span class="select-menu-item-heading">Create branch: <span class="js-new-item-name"></span></span>
              <span class="description">from âmasterâ</span>
            </div>
            <input type="hidden" name="name" id="name" class="js-new-item-value">
            <input type="hidden" name="branch" id="branch" value="master">
            <input type="hidden" name="path" id="path" value="README.md">
</form>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/modalsoul0226/csc369_review/find/master"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <clipboard-copy for="blob-path" class="btn btn-sm BtnGroup-item">
        Copy path
      </clipboard-copy>
    </div>
    <div id="blob-path" class="breadcrumb">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a data-pjax="true" href="/modalsoul0226/csc369_review"><span>csc369_review</span></a></span></span><span class="separator">/</span><strong class="final-path">README.md</strong>
    </div>
  </div>


  <include-fragment src="/modalsoul0226/csc369_review/contributors/master/README.md" class="commit-tease">
    <div>
      Fetching contributors&hellip;
    </div>

    <div class="commit-tease-contributors">
      <img alt="" class="loader-loading float-left" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32-EAF2F5.gif" width="16" height="16" />
      <span class="loader-error">Cannot retrieve contributors at this time</span>
    </div>
</include-fragment>


  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/modalsoul0226/csc369_review/raw/master/README.md">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/modalsoul0226/csc369_review/blame/master/README.md">Blame</a>
      <a rel="nofollow" class="btn btn-sm BtnGroup-item" href="/modalsoul0226/csc369_review/commits/master/README.md">History</a>
    </div>


          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form js-update-url-with-hash" action="/modalsoul0226/csc369_review/edit/master/README.md" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="QIX0dheRy+aY7OzoZhGw1NsI6vF6EEsUHN6x+xU/RbaV0PeiCbEgdyL7Sww/zKNlopFO2X1jZSfOfNEO2vwN4A==" />
            <button class="btn-octicon tooltipped tooltipped-nw" type="submit"
              aria-label="Edit this file" data-hotkey="e" data-disable-with>
              <svg class="octicon octicon-pencil" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
            </button>
</form>
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form" action="/modalsoul0226/csc369_review/delete/master/README.md" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="DAlOiWAFSL1LN61pCRGZwOxBBL2x8wVt0cuMEhUGmHqB/G6WHCtJTn/FEQEU2h3c+2SDCqm23jJj6CVhT5ZErQ==" />
          <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
            aria-label="Delete this file" data-disable-with>
            <svg class="octicon octicon-trashcan" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
          </button>
</form>  </div>

  <div class="file-info">
      826 lines (653 sloc)
      <span class="file-info-divider"></span>
    48.4 KB
  </div>
</div>

    
  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-csc369-review-weary-weary-weary" class="anchor" aria-hidden="true" href="#csc369-review-weary-weary-weary"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CSC369 Review <g-emoji class="g-emoji" alias="weary" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f629.png">ð©</g-emoji> <g-emoji class="g-emoji" alias="weary" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f629.png">ð©</g-emoji> <g-emoji class="g-emoji" alias="weary" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f629.png">ð©</g-emoji></h1>
<h2><a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table of Contents</h2>
<ul>
<li><a href="#week-6-memory-management">Week 6: Memory Management</a></li>
<li><a href="#week-7-paged-virtual-memory">Week 7 + 9 1/2: Paged Virtual Memory</a></li>
<li><a href="#week-10-file-systems">Week 10 + 9 1/2: Disk and File System</a></li>
<li><a href="#week-11-file-systems-integrity">Week 11: File Systems Integrity</a></li>
<li><a href="#week-12-deadlock">Week 12: Deadlock</a></li>
</ul>
<h2><a id="user-content-week-6-memory-management" class="anchor" aria-hidden="true" href="#week-6-memory-management"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Week 6 Memory Management</h2>
<p>- <strong>GOALs of VM</strong>:</p>
<ul>
<li><code>6.1 Efficiency</code>: only have a limited amount of physical memory, must use efficiently.<br></li>
<li><code>6.2 Transparency</code>: must provide the illusion of âinfiniteâ memory to each process.<br></li>
<li><code>6.3 Protection and sharing</code>: since physical memory is accessed by multiple processes, and must ensure data privacy.
<br><br></li>
</ul>
<h3><a id="user-content-61-efficiency" class="anchor" aria-hidden="true" href="#61-efficiency"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.1 Efficiency<br></h3>
<p><em>Efficiency explained</em>:<br> - Some portions are in DRAM.<br> - Some portions are stored on disk.<br> - Transfer data back and forth as needed.
<br><br></p>
<h3><a id="user-content-62-transparency" class="anchor" aria-hidden="true" href="#62-transparency"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.2 Transparency<br></h3>
<p><em>Transparency explained</em>:<br> - Give each process its own view of memory.<br> - Decouple the data layout from where the data is actually stored in physical memory.</p>
<p><strong>6.2.1 Fixed Partitioning</strong><br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/fixed_paritioning.png"><img align="right" src="/modalsoul0226/csc369_review/raw/master/images/fixed_paritioning.png" width="100" style="max-width:100%;"></a></p>
<ul>
<li>Each process gets a fixed partition to use. (OS occupies a seperate partition)</li>
<li><em>Three</em> main problems introduced by <code>fixed partitioning</code>:<br>
- If process is smaller than the partition, this will cause <strong>internal fragmentation</strong> (wastes memory)<br>
- If program needs more memory than the partition size, programmer has to deal with that. (<strong>overlays</strong>)<br>
- Number of partitions is <strong>limited</strong>.
<br><br><br><br></li>
</ul>
<h3><a id="user-content-622-dynamic-partitioning" class="anchor" aria-hidden="true" href="#622-dynamic-partitioning"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.2.2 Dynamic partitioning<br></h3>
<p>Partitions will vary in length and numbers over time. When a process is brought into memory, a partition of exactly the right size is created to hold it.</p>
<ul>
<li>If a process exited, a "hole" will be created, and some holes may be too small to be re-used. This will cause <strong>external fragmentation</strong>.<br></li>
<li>OS may move processes around to create large chunks of free space. This is called <strong>compaction</strong> and requires processes to be <strong>relocatable</strong>.</li>
</ul>
<h3><a id="user-content-623-solution---vm-paging" class="anchor" aria-hidden="true" href="#623-solution---vm-paging"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.2.3 Solution - VM Paging<br></h3>
<p>Paging works by decoupling address space completely from actual physical data location and splitting both virtual and physical memory in same-size <strong>pages</strong>.
<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/process_co_exist_in_memory.png"><img src="/modalsoul0226/csc369_review/raw/master/images/process_co_exist_in_memory.png" width="600" style="max-width:100%;"></a>
<br></p>
<ul>
<li>Each process gets the illusion of its personal address space (<em>AS</em>) from
<strong>0 to 2^64-1</strong>.</li>
<li>Each virtual page can be mapped to any physical page.</li>
<li>Data is either in <strong>memory</strong> or on <strong>disk</strong> (must bring data in memory if needed).</li>
</ul>
<h3><a id="user-content-624-translation" class="anchor" aria-hidden="true" href="#624-translation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.2.4 Translation</h3>
<ul>
<li>Each process needs to have its address space pages translated to real physcial address.</li>
<li>Hardware (MMU) converts VAs into PAs using the <strong>Page Table</strong>.</li>
<li>Each process running in the OS has its own page table.</li>
</ul>
<h3><a id="user-content-625-page-faults" class="anchor" aria-hidden="true" href="#625-page-faults"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.2.5 Page Faults</h3>
<ul>
<li>If the page table entry indicates that the page is not in memory, then this causes a <strong>page fault</strong>.</li>
<li>Os is responsible for loading page from the disk and the process will stop until the data is brought into memory.</li>
<li>Page replacement policy is up to the OS.</li>
</ul>
<p>Notice that it will not be way too slow due to the localized patterns:</p>
<ul>
<li><strong>Temporal locality:</strong> Locations referenced recently likely to be referenced again.</li>
<li><strong>Spacial locality:</strong> Locations near recently referenced locations are likely to be referenced soon.</li>
<li>Although cost of paging is high, if it's infrequent enough (due to locality), it's acceptable.
<br><br></li>
</ul>
<h3><a id="user-content-63-protection-and-sharing" class="anchor" aria-hidden="true" href="#63-protection-and-sharing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.3 Protection and sharing</h3>
<ul>
<li>Processes should not access other processes' memory. (Must protect process address spaces, implies we need rights for pages like file permissions)</li>
<li>Priviledged OS data shouldn't be accessible to users.</li>
</ul>
<h3><a id="user-content-631-vm-enforces-protection" class="anchor" aria-hidden="true" href="#631-vm-enforces-protection"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.3.1 VM enforces protection</h3>
<ul>
<li>Access rights are kept in the page tables. Hardware enforces protection, OS is called when violation happens. Page tables cannot be modified by users since they exist in protected OS memory (only OS can modify them).</li>
<li>Avoid leaked information from deallocated pages. Programmer should not have to zero out each page on dealloc. OS uses a "zero-ed" page and give the VA of that page to ensure that newly allocated pages are zero-ed out.</li>
</ul>
<h3><a id="user-content-64-address-binding" class="anchor" aria-hidden="true" href="#64-address-binding"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.4 Address binding</h3>
<ul>
<li>Option 1: Compile time<br>
Â Â - Must know what memory the process will use, during compilation.<br>
Â Â - Called <em>absolute code</em> since binary contains real addresses.<br>
Â Â - No relocation is possible.</li>
<li>Option 2: Load time (static relocation)<br>
Â Â - Compiler: translates(binds) symbolic addresses to logical, <em>relocatable</em> addresses within the source file.<br>
Â Â - Linker: translates addresses from obj files to <em>logical,</em> <em>absolute</em> addresses within executable. Also takes care of Â Â references to symbols from other files.<br>
Â Â - Loader translates logical absolute address to <em>physical</em> addresses when program is loaded into memory.<br></li>
</ul>
<h3><a id="user-content-65-a-better-plan-dynamic-relocation" class="anchor" aria-hidden="true" href="#65-a-better-plan-dynamic-relocation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.5 A better plan: Dynamic Relocation<br></h3>
<p>Process refers to <strong>relative</strong> addresses, hardware translates to physical address as instruction is executed.</p>
<ul>
<li>Two registers called <strong>base</strong> and <strong>bound</strong> on the MMU, these two registers get saved in the PCB when we do a context switch since MMU only has one base and bound register.</li>
<li>The executable simply stores virtual addresses (starting at 0), and instructions in the executable do not need to be modified.</li>
<li>When a program starts to run: - Set the base register. - Physical address can be translated as the following: <em>physcial address = base + virtual address</em></li>
<li>The bound register ensures that we don't access outside a process' address space.</li>
</ul>
<h3><a id="user-content-651-placement-algorithms" class="anchor" aria-hidden="true" href="#651-placement-algorithms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.5.1 Placement algorithms<br></h3>
<p>Need <em>dynamic relocation</em>.</p>
<ul>
<li>Best-fit: choose the block that is closest in size to the request<br>
Â Â - left-over fragments tend to be small(unusable)
Â Â - in practise, similar storage utilization to first-fit</li>
<li>First-fit: choose the first block that is large enough, search can start at beginning, or where previous search ended<br>
Â Â - simplest, and often fastest and most efficient<br>
Â Â - may leave many small fragments near start of memory that must be searched repeatedly<br>
Â Â - next-fit variant tends to allocate from end of memory (free space becomes fragmented more rapidly)<br></li>
<li>Worst-fit: choose the largest block<br>
Â Â - not as good as best-fit or first-fit in practice<br></li>
<li>quick-fit: keep multiple free lists for common block sizes<br>
Â Â - great for fast allocation, generally harder to coalesce<br></li>
</ul>
<h3><a id="user-content-66-paging" class="anchor" aria-hidden="true" href="#66-paging"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.6 Paging<br></h3>
<ul>
<li><strong>Page frames</strong> - logically partition physical memory into equal, fixed-size chunks</li>
<li><strong>Virtual pages</strong> - divide processes' memory into chunks of the same size</li>
<li>Any page can be assigned to any free page frame.</li>
<li>Possible page frame sizes are restricted to powers of 2 to simplify address translation.</li>
<li>Virtual addresses now interpreted as <em>page number + page offset</em>:<br>
Â Â  - page number = vaddr / page_size<br>
Â Â  - page offset = vaddr % page_size<br></li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/pa_translation.png"><img src="/modalsoul0226/csc369_review/raw/master/images/pa_translation.png" width="600" style="max-width:100%;"></a></p>
<br>Details:
* MMU hardware generates address of page table entry, does lookup without OS.<br>
* OS has to load PTBR (*page table base register*) for new process on context switch since page tables are per process.
<h3><a id="user-content-661-the-page-table" class="anchor" aria-hidden="true" href="#661-the-page-table"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.6.1 The Page Table</h3>
<p>Stored in protected memory, and a user process cannot access its own page table.</p>
<ul>
<li>A linear array of <em>page table</em> entries, 1 entry per virtual page.</li>
<li>Stored in <strong>OS memory, attached to process structure</strong>.</li>
<li>Virtual page number (VPN) serves as array index.</li>
<li>Allocate enough physical memory (ppages) for entire page table.</li>
</ul>
<h3><a id="user-content-662-page-table-entries" class="anchor" aria-hidden="true" href="#662-page-table-entries"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.6.2 Page Table Entries</h3>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/pte.png"><img src="/modalsoul0226/csc369_review/raw/master/images/pte.png" width="650" style="max-width:100%;"></a><br></p>
<ul>
<li><strong>Modify bit</strong>(M) says whether or not page has been written. Set when a write to a page occurs.</li>
<li><strong>Reference bit</strong>(R) says whether page has been accessed. Set when a read or write to the page occurs.</li>
<li><strong>Valid bit</strong>(V) says whether PTE can be used. Checked on each use of virtual address.</li>
<li><strong>Protection bit</strong>(Prot) specifies what operations are allowed on page (read/write/execute)</li>
<li><strong>Page frame number</strong>(PFN) determines physcial page.<br>Not all bits are provided by all architectures.</li>
</ul>
<h2><a id="user-content-week-7-paged-virtual-memory" class="anchor" aria-hidden="true" href="#week-7-paged-virtual-memory"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Week 7: Paged Virtual Memory</h2>
<p><strong>Multi-level page tables</strong> split page table into <em>pages of PTEs</em>, use a <em>page table directory</em> to point to different pages of PTEs.<br>
Following is the comparison between linear page table and multi-level page table.<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/l_ml_compare.png"><img src="/modalsoul0226/csc369_review/raw/master/images/l_ml_compare.png" width="650" style="max-width:100%;"></a><br></p>
<h3><a id="user-content-71-two-level-page-tables" class="anchor" aria-hidden="true" href="#71-two-level-page-tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.1 Two-level Page Tables<br></h3>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/two-level_page_table.png"><img src="/modalsoul0226/csc369_review/raw/master/images/two-level_page_table.png" width="650" style="max-width:100%;"></a><br>
<strong>Tradeoff: space vs. time</strong></p>
<ul>
<li>Saves space</li>
<li>Adds more levels of indirection when translating addresses which means more complexity in the translation algorithm.</li>
</ul>
<h3><a id="user-content-72-hashed-page-tables" class="anchor" aria-hidden="true" href="#72-hashed-page-tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.2 Hashed Page Tables<br></h3>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/hashed_page_table.png"><img src="/modalsoul0226/csc369_review/raw/master/images/hashed_page_table.png" width="650" style="max-width:100%;"></a></p>
<h3><a id="user-content-73-paging-limitations---time" class="anchor" aria-hidden="true" href="#73-paging-limitations---time"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.3 Paging Limitations - Time</h3>
<ul>
<li>2 memory reads(references) per address loopup. (First read page table, then actual memory)</li>
<li>Hierarchical page tables make it worse due to one read per level of page table. (Solution: use a hardware cache of lookups)</li>
</ul>
<h3><a id="user-content-74-translation-lookaside-buffer-tlb" class="anchor" aria-hidden="true" href="#74-translation-lookaside-buffer-tlb"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.4 Translation Lookaside Buffer (TLB)</h3>
<p>Small, fully-associative hardware cache of recently used translations. It translates virtual page numbers (VPNs) into PTEs (not physical addresses) and can be done in a single machine cycle.<br>
TLBs are implemented in hardware:</p>
<ul>
<li>Fully associative cache (all entries looked up in parallel).</li>
<li>Cache tags are virtual page numbers.</li>
<li>Cache values are PTEs (entries from page tables).</li>
<li>With PTE + offset, can directly calculate physical address.<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/tlb.png"><img src="/modalsoul0226/csc369_review/raw/master/images/tlb.png" width="600" style="max-width:100%;"></a><br></li>
</ul>
<p>- TLB exploit <strong>locality</strong></p>
<ul>
<li>Processes only use a handful of pages at a time, and we only need those pages to be "mapped".</li>
<li>Hit rates: &gt;99% of translations are hits.</li>
</ul>
<p>- Managing TLBs</p>
<ul>
<li>OS ensures that <em>TLB and page tables are consistent</em>. e.g. when it changes the protection bits of a PTE, it needs to update the copy of the PTE in the TLB(if one exists). Typically, just invalidate the entry.</li>
<li>Reload TLB on a <em>process context switch</em>. Invalidate all entries.</li>
<li>When the TLB misses and a new PTE has to be loaded, <em>a cached PTE must be evicted</em>. Choosing PTE to evict is called the <em>TLB replacement policy</em> and is implemented in hardware.</li>
</ul>
<h3><a id="user-content-75-demand-paging" class="anchor" aria-hidden="true" href="#75-demand-paging"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.5 Demand paging</h3>
<p>Pages can be moved between memory and disk, this is called <em>demand paging</em>.</p>
<ol>
<li>Initially, pages are allocated to memory.</li>
<li>When memory fills up, allocating a page in memory requires some other page to be evicted from memory.<br>
Â Â  - When a process accesses the page, the invalid PTE will cause a trap(<em>page fault</em>).<br>
Â Â  - The trap will run the OS page fault handler.<br>
Â Â  - Handler uses the invalid PTE to locate page in swap file.<br>
Â Â  - Reads page into a physical frame, update PTE to point to it.<br></li>
<li>Evicted pages go to disk (swap file).<br>
Â Â  - When it evicts a page, the OS sets the PTE as invalid and stores the location of the page in swap file in PTE.<br></li>
</ol>
<ul>
<li>The movement of pages between memory and disk is done by the OS, and is transparent to the application.</li>
<li>Actually, only <strong>dirty</strong> pages need to be written to disk. Clean pages do not, but you need to know where on disk to read them from again.</li>
<li>Demand paging is also used when a process first starts up. When a process is created, it has a brand new page table with all valid bits off and no pages in memory. When the process starts executing, instructions fault on code and data pages, faulting stops when all necessary code and data pages are in memory. Only code and data needed by a process needs to be loaded.</li>
<li>Alternative of <em>prepaging</em> which predicts future page that will be used.<br></li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/pp_vs_dp.png"><img src="/modalsoul0226/csc369_review/raw/master/images/pp_vs_dp.png" width="550" style="max-width:100%;"></a></p>
<h3><a id="user-content-76-placement-policy" class="anchor" aria-hidden="true" href="#76-placement-policy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.6 Placement Policy</h3>
<p>In paging systems, memory management hardware can translate any virtual-to-physical mapping equally well.</p>
<ul>
<li>Non-uniform Memory Access Multiprocessors. Any processor can access entire memory, but local memory is faster.</li>
<li>Cache performance. Choose physical pages to minimize cache conflicts.</li>
</ul>
<h3><a id="user-content-77-replacement-policy" class="anchor" aria-hidden="true" href="#77-replacement-policy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.7 Replacement Policy</h3>
<p>The page replacement algorithm determines how a victim is chosen.</p>
<h3><a id="user-content-771-beladys-algorithm-opt" class="anchor" aria-hidden="true" href="#771-beladys-algorithm-opt"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.7.1 Belady's algorithm (OPT)</h3>
<p>It has the lowest fault rate for any page reference string. It works by replacing the page that will not be used for the longest period of time.</p>
<h3><a id="user-content-772-first-in-first-out-fifo" class="anchor" aria-hidden="true" href="#772-first-in-first-out-fifo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.7.2 First-In-First-Out (FIFO)</h3>
<ul>
<li>Maintain a list of pages in order in which they were paged in. On replacement, simply evict the one brought in longest time ago.</li>
<li>The fault rate <strong>increases</strong> when the algorithm is given more memory.</li>
</ul>
<h3><a id="user-content-773-least-recently-used-lru" class="anchor" aria-hidden="true" href="#773-least-recently-used-lru"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.7.3 Least Recently Used (LRU)</h3>
<ul>
<li>Uses reference information to make a more informed replacement decision. Can make a guess of the future based opon past experience.</li>
<li>On replacement, evict the page that has not been used for the longest time in the past.</li>
<li>Options for implementing LRU:
Â Â  - <em>Time stamp</em> every reference and evict the page with oldest time stamp. The problem is we need to make PTE large enough to hold meaningful time stamp and need to examing every page on eviction to find one with oldest time stamp.<br>
Â Â  - Keep pages in a <em>stack</em>. On reference, move the page to the top of the stack. On eviction, replace page at bottom. The problem is we need costly software operation to manipulate stack on <em>EVERY</em> memory reference.</li>
<li>We can implement <em>Approximating LRU</em> to avoid too much cost. It uses the PTE <em>reference bit</em>. Keep a counter for each page. At regular intervals, for every page: shift R bits into high bit of counter register, shift other bits to the right and pages with "larger" counters were used more recently.</li>
</ul>
<h3><a id="user-content-774-clock" class="anchor" aria-hidden="true" href="#774-clock"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.7.4 Clock</h3>
<p>Replace page that is "<em>old enough</em>".</p>
<ul>
<li>Arrange all of physical page frames in a big circle (clock).</li>
<li>A clock hand is used to select a good LRU candidate.<br>
Â Â  - Sweep through the pages in circular order like a clock.<br>
Â Â  - If the ref bit is off, it hasn't been used recently.<br>
Â Â  - If the ref bit is on, turn it off and go to next page.</li>
<li>Arm moves quickly when pages are needed and low overhead when plenty of memory.</li>
<li>If memory is large, "accuracy" of information degrades.</li>
</ul>
<h3><a id="user-content-78-thrashing" class="anchor" aria-hidden="true" href="#78-thrashing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.8 Thrashing</h3>
<p>Thrashing takes place when more time is spent by the OS in paging data back and forth from disk than executing user programs caused by memory demands of the set of running processes simply exceeding the available physcial memory.</p>
<ul>
<li><code>Admission control</code>: Given a set of processes, a system could decide not to run a subset of processes, with the hope that the reduced set of processes' <em>working sets</em> (the pages that they are using actively) fit in memory and thus can make progress. (states that it is sometimes better to do less work well than to do everything at once poorly)</li>
<li><code>Out-of-memory killer</code>: this daemon chooses a memory-intensive process and kills it, thus reducing memory in a none-too-subtle manner. While successful at reducing memory pressure, this approach can have problems, if, for example, it kills the X server and thus renders any applications requiring the display unusable.</li>
</ul>
<h3><a id="user-content-79-cpu-utilization" class="anchor" aria-hidden="true" href="#79-cpu-utilization"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.9 CPU utilization</h3>
<p align="center">
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/multiprogramming.png"><img src="/modalsoul0226/csc369_review/raw/master/images/multiprogramming.png" width="250" style="max-width:100%;"></a></p>
<p>As the illustration shows, <em>CPU utilization</em> of a system can be improved by using multiprogramming. Let P be the fraction of time that a process spends away from the CPU. If there is one process in memory, the CPU utilization is 1-P. If there are N processes in memory, the probability of N processes waiting for an I/O is P*P...*p (N times). The CPU utilization is (1-P^N) where N is the degree of multiprogramming. As N increases, the CPU utilization increases.<br>
However, once the system passes the point of optimal CPU utilization, as less memory is available to each program will cause higher page fault likelihood i.e. it thrashes.</p>
<h3><a id="user-content-710-page-buffering" class="anchor" aria-hidden="true" href="#710-page-buffering"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.10 Page Buffering</h3>
<p>Previously, we assumed the replacement algorithm is run and a victim selected when a new page needs to be brought in. Most of these algorithms are too costly to run on every page fault.<br>
In actuality, OS keeps a small portion of memory free by having some kind of <em>high watermark</em> and <em>low watermark</em> to help decide when to start evicting pages from memory. When the OS notices that there are fewer than <em>LW</em> pages available, a background thread (<code>swap daemon</code>) is responsible for freeing memory runs. It evicts pages until there are <em>HW</em> pages available, then goes to sleep.</p>
<h3><a id="user-content-711-swap-space" class="anchor" aria-hidden="true" href="#711-swap-space"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.11 Swap Space</h3>
<p>The space on disk for moving pages back from memory and forth to memory. <br>
Swap space is not the only on-disk location for swapping. Assume you are running a program binary. The code pages from this binary are initially found on disk, and when the program runs, they are loaded into memory (one page at a time when needed). However, if the system needs to make room in physical memory for other needs, it can safely re-use the memory space for these code pages, knowing that it can later swap them in again from the on-disk binary in the file system.</p>
<h3><a id="user-content-712-tlb-misses" class="anchor" aria-hidden="true" href="#712-tlb-misses"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.12 TLB misses</h3>
<p>When a process is executing on the CPU, and it issues a read to an address. The read address goes to the TLB in the MMU.<br>
<em>Notice that this is all done by the hardware.</em></p>
<ol>
<li>TLB does a lookup using the page number of the address.</li>
<li>Common case is that the page number matches, returning a PTE for the mapping for this address.</li>
<li>TLB validates that the PTE protection allows reads.</li>
<li>PTE specifies which physical frame holds the page.</li>
<li>MMU combines physical frame &amp; offset into a physical address.</li>
<li>MMU reads from that physical address, returns value to CPU.<br></li>
</ol>
<hr>
<p>If TLB does not have a PTE mapping for this virtual address, known as a <em>minor page fault</em> as no I/O will be needed in the following solutions. There are two possibilities:</p>
<ol>
<li>MMU loads PTE from page table in memory. Hardware managed TLB, OS not involved in this step, and OS has already set up the page tables so that the hardware can access it directly.</li>
<li>Trap to OS. In this case, software manages TLB. OS does lookup in page table, loads PTE into TLB and returns from exception, then retries memory access.</li>
</ol>
<hr>
<p>If access is not permitted by PTE. PTE will indicate a protection fault, either operation is not permitted on page (r/w/x) or virtual page not allocated/not in physical memory.<br>
TLB traps to the OS:</p>
<ul>
<li>Permission denied: OS may send fault back up to process, or might be using protection for other purposes (e.g. cow, mapped files).</li>
<li>Invalid: If virtual page not allocated in address space, OS sends fault to process (e.g. segmentation fault). If page not in physical memory (major page fault), OS allocates frame and reads it in.</li>
</ul>
<h3><a id="user-content-713-working-set-model" class="anchor" aria-hidden="true" href="#713-working-set-model"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.13 Working Set Model</h3>
<p>A <em>working set</em> of a process is used to model the dynamic locality of its memory usage.</p>
<ul>
<li>W(t, r) = {pages P s.t. P was referenced ini the time interval (t, t-r)}</li>
<li>w(t, r) = number of pages in W(t, r)<br></li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/Wtr.png"><img align="left" src="/modalsoul0226/csc369_review/raw/master/images/Wtr.png" width="375" style="max-width:100%;"></a></p>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/wtr.png"><img align="center" src="/modalsoul0226/csc369_review/raw/master/images/wtr.png" width="350" style="max-width:100%;"></a></p>
<p>
The working set size <strong>changes with program locality</strong>. During periods of poor locality, more pages are referenced, and within this period of time, the working set size is larger. So, intuitively, want the working set to be the set of pages a process needs in <em>memory</em> to prevent heavy faulting.<br>
e.g. when people ask, "How much memory does Firefox need?", they are in effect asking for the size of Firefox's working set.</p>
<h3><a id="user-content-714-shared-memory" class="anchor" aria-hidden="true" href="#714-shared-memory"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.14 Shared memory</h3>
<p>Since private virtual address spaces protect applications from each other, but this makes it difficult to share data. Parents and children in a forking web server or proxy will want to share an in-memory cache without copying. So, we can use shared memory to allow processes to share data using direct memory references.
<br><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/sharing.png"><img src="/modalsoul0226/csc369_review/raw/master/images/sharing.png" width="450" style="max-width:100%;"></a><br>
Implement sharing using page tables:</p>
<ul>
<li>Have PTEs in both tables map to the same physical frame.</li>
<li>Each PTE can have different protection values.</li>
<li>Must update both PTEs when page becomes invalid.
In the illustration above, we map shareed memory at same virtual addresses. We can also map at different virtual addresses in each process' address space. It will be more flexible since we can avoid address space conflicts, but pointers inside the shared memory segment are invalid.</li>
</ul>
<h3><a id="user-content-715-copy-on-write" class="anchor" aria-hidden="true" href="#715-copy-on-write"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.15 Copy On Write</h3>
<p>Copy on write (<em>CoW</em>) is used to defer large copies as long as possible, hoping to avoid them altogether.</p>
<ul>
<li>Instead of copying pages, create <em>shared mappings</em> of parent pages in child virtual address space.</li>
<li>Shared pages are protected as read-only in child. Reads happen as usual. Writes generate a protection fault, trap to OS, copy page, change page mapping in client page table, restart write instruction.</li>
</ul>
<h3><a id="user-content-716-memory-mapped-files" class="anchor" aria-hidden="true" href="#716-memory-mapped-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.16 Memory Mapped Files</h3>
<p>Bind a file to a virtual memory region:</p>
<ul>
<li>PTEs map virtual addresses to physical frames holding file data.</li>
<li>Virtual address base + N corresponds to offset N in file.</li>
<li>Can read or write at various offsets in file, using memory operations.</li>
</ul>
<hr>
<p>Initially, all pages mapped to file are invalid:</p>
<ul>
<li>OS reads a page from file when invalid page is accessed.</li>
<li>OS write a page to file when evicted, or region unmapped.</li>
</ul>
<hr>
<p>Advantages:</p>
<ul>
<li>Uniform access for files and memory (just use pointers)</li>
<li>Less copying.</li>
</ul>
<br>
Drawbacks:
- Since OS handles faults transparently, process has less control over data movement.
- Does not generalize to streamed I/O. (pipes, sockets, etc. only works for files)
<h2><a id="user-content-week-10-file-systems" class="anchor" aria-hidden="true" href="#week-10-file-systems"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Week 10 File Systems</h2>
<p>File system should provide long-term information storage. It is required to store very large amounts of information which must survive the termination of process using it, and multiple processes must be able to access info concurrently.<br>
Two views of file systems:</p>
<ul>
<li>User view - convenient logical origanization of information.</li>
<li>OS view - managing physical storage media, enforcing access restrictions.</li>
</ul>
<h3><a id="user-content-1011-file-table-handling-operations-on-files" class="anchor" aria-hidden="true" href="#1011-file-table-handling-operations-on-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.1.1 File Table (handling operations on files)</h3>
<p>When file is first used actively, store its attribute info in a system-wide open-file table. The index (<em>fd</em>) into this table is used on subsequent operations, hence no searching is required.<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/file_table.png"><img src="/modalsoul0226/csc369_review/raw/master/images/file_table.png" width="650" style="max-width:100%;"></a><br></p>
<h3><a id="user-content-1012-file-sharing" class="anchor" aria-hidden="true" href="#1012-file-sharing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.1.2 File Sharing</h3>
<p>Have 2 levels of internal tables:</p>
<ul>
<li>A per-process table of all files that each process has open (also holds the current file positions)</li>
<li>Each entry in the per-process table points to an entry in the system-wide open-file table.<br></li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/file_sharing.png"><img src="/modalsoul0226/csc369_review/raw/master/images/file_sharing.png" width="650" style="max-width:100%;"></a></p>
<h3><a id="user-content-1013-file-access-methods" class="anchor" aria-hidden="true" href="#1013-file-access-methods"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.1.3 File Access Methods</h3>
<p>Modern systems typically only support simple access:</p>
<ul>
<li>Sequential access - read bytes one at a time, in order</li>
<li>Direct access - random access given block/byte number</li>
</ul>
<h3><a id="user-content-1014-file-links" class="anchor" aria-hidden="true" href="#1014-file-links"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.1.4 File links</h3>
<ul>
<li>Hard link - second directory indentical to the first one</li>
<li>Symbolic link - Directory entry refers to file that holds "true" path to the linked file.</li>
</ul>
<h3><a id="user-content-1021-directories" class="anchor" aria-hidden="true" href="#1021-directories"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.2.1 Directories</h3>
<p>Directories serves multiple purposes:</p>
<ul>
<li>For users, they provide a structured way to organize files.</li>
<li>For the file system, they provide a convenient naming interface that allows the implementation to separate logical file organization from physical file placement on the disk.</li>
<li>Stores information about files</li>
</ul>
<h3><a id="user-content-1022-directory-structure" class="anchor" aria-hidden="true" href="#1022-directory-structure"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.2.2 Directory Structure</h3>
<ul>
<li>A directory is a list of entries - names and associated metadata (information that describes properties of the data e.g. size, protection, location, etc.)</li>
<li>List is usually unordered.</li>
<li>Directories typically stored in files. Only need to manage one kind of secondary unit.<br></li>
</ul>
<h3><a id="user-content-1023-issues-with-acyclic-graphs" class="anchor" aria-hidden="true" href="#1023-issues-with-acyclic-graphs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.2.3 Issues with acyclic graphs</h3>
<ul>
<li>With links, a file may have multiple absolute path names.</li>
<li>Sharing can occur with duplication of information, but maintaining consistensy is a problem, e.g. updating permissions in directory entry with hardlink.</li>
</ul>
<h3><a id="user-content-1031-file-system-implementation" class="anchor" aria-hidden="true" href="#1031-file-system-implementation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.3.1 File system Implementation</h3>
<ul>
<li>File systems define a block size (e.g. 1KB for A4).</li>
<li>A Super Block determines location of root directory.</li>
<li>A free map determines which blocks are free. Usually a bitmap, one bit block on the disk. Also stored on disk, cached in memory for performance.</li>
<li>Remaining disk blocks used to store files.</li>
</ul>
<h3><a id="user-content-1032-disk-layout-strategies" class="anchor" aria-hidden="true" href="#1032-disk-layout-strategies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.3.2 Disk Layout Strategies</h3>
<p><strong>Contiguous Allocation</strong><br></p>
<ul>
<li>Like memory, fast, simplifies directory access.</li>
<li>Inflexibal, causes fragmentation, needs compaction.
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/contiguous_alloc.png"><img src="/modalsoul0226/csc369_review/raw/master/images/contiguous_alloc.png" width="600" style="max-width:100%;"></a><br></li>
</ul>
<hr>
<p><strong>Linked Allocation</strong></p>
<ul>
<li>Each block points to the next, directory points to the first.</li>
<li>Good for sequential access, bad for all others.
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/linked_alloc.png"><img src="/modalsoul0226/csc369_review/raw/master/images/linked_alloc.png" width="600" style="max-width:100%;"></a><br></li>
</ul>
<hr>
<p><strong>Indexed structure</strong> (<em>indirection, hierarchy</em>)</p>
<ul>
<li>An "index block" contains pointers to many other blocks.</li>
<li>Handles random better, still good for sequential.</li>
<li>May need muti-level index blocks.</li>
</ul>
<p>UNIX inodes implement an indexed structure for files. All file metadata is stored in inode. (UNIX dir entries map file names to inode)<br>
Each inode contains 15 block pointers (i_block):</p>
<ul>
<li>First 12 are direct block pointers (disk addresses of the first 12 data blocks).</li>
<li>Then <em>single indirect</em> block pointer.</li>
<li>Then <em>double indirect</em> block pointer.</li>
<li>Then <em>triple indirect</em> block pointer.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/indexed_alloc"><img src="/modalsoul0226/csc369_review/raw/master/images/indexed_alloc" width="600" style="max-width:100%;"></a></p>
<h3><a id="user-content-104-very-simple-file-system-vsfs" class="anchor" aria-hidden="true" href="#104-very-simple-file-system-vsfs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.4 Very Simple File System (VSFS)</h3>
<p>Overall Organization:</p>
<ul>
<li>block size: 4KB</li>
<li>Number of blocks: 64</li>
<li>Total size: 256KB</li>
</ul>
<br>
    <p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/vsfs.png"><img src="/modalsoul0226/csc369_review/raw/master/images/vsfs.png" width="600" style="max-width:100%;"></a></p>
<br>
<hr>
<p><em>Super block</em>: when mounting a file system, the OS first reads the superblock, identifies its type and other parameters, then attaches the volume to the file system tree with proper settings.</p>
<h3><a id="user-content-105-other-approaches" class="anchor" aria-hidden="true" href="#105-other-approaches"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.5 Other Approaches</h3>
<p><em>Extent-based</em><br>
An <strong>extent</strong> == a disk pointer plus a length (in number of blocks). So, instead of requiring a pointer to every block of a file, we just need a pointer to every several blocks.</p>
<ul>
<li>Disadvantage: Less flexible than the pointer-based approach.</li>
<li>Advantage: Uses smaller amount of metadata per file, and file allocation is more compact.</li>
<li>adopted by ext4, NTFS.</li>
</ul>
<hr>
<p><em>Linked-based</em><br>
Instead of pointers to all blocks, the inode just has one pointer to the first data block of the file, then the first block points to the second block, etc.</p>
<ul>
<li>Disadvantage: works poorly if we want to access the last block of a big file</li>
<li>Advantage: uses an in-memory <em>File Allocation Table</em>, indexed by address of data block, so faster in finding a block.</li>
<li>adopted by FAT</li>
</ul>
<h3><a id="user-content-1061-inode" class="anchor" aria-hidden="true" href="#1061-inode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.6.1 Inode</h3>
<ul>
<li>Data structure representing an FS object.</li>
<li>Attributes, disk block locations.</li>
<li>No file name, just metadata.</li>
</ul>
<h3><a id="user-content-1062-directories" class="anchor" aria-hidden="true" href="#1062-directories"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.6.2 Directories</h3>
<ul>
<li>List of (name, inode) mappings.</li>
<li>Each directory entry: itself(.), parent dir(..), a file, another directory, link.</li>
</ul>
<h3><a id="user-content-1063-hard-links" class="anchor" aria-hidden="true" href="#1063-hard-links"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.6.3 Hard links</h3>
<ul>
<li>Multiple file names (and directory entries) mapped to the same inode.</li>
<li>Reference count - only remove file when it reaches 0</li>
</ul>
<h3><a id="user-content-1064-symbolic-links" class="anchor" aria-hidden="true" href="#1064-symbolic-links"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.6.4 Symbolic links</h3>
<ul>
<li>"Pointer" to a given file</li>
<li>contains the path as its contents</li>
</ul>
<h3><a id="user-content-1065-the-content-of-a-data-block" class="anchor" aria-hidden="true" href="#1065-the-content-of-a-data-block"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.6.5 The content of a data block</h3>
<ul>
<li><em>Regular file</em>: data of the file</li>
<li><em>Directory</em>: list of directory entries</li>
<li><em>Symbolic Link</em>: path of the file that it links to</li>
</ul>
<h3><a id="user-content-1066-inodes-and-path-search" class="anchor" aria-hidden="true" href="#1066-inodes-and-path-search"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.6.6 Inodes and Path search</h3>
<p>Unix inodes are <strong>not</strong> directories. They describe where on the disk the blocks for a file are placed.
On the contrary, directory entries map file names to inodes.</p>
<ol>
<li>To open "/somefile", use super block to read the inode for root directory.</li>
<li>Read data block for root dir, look for an entry with name "somefile".</li>
<li>This entry will identify the inode for "somefile".</li>
<li>Read the inode for "somefile" into memory.</li>
<li>The inode says where first data block is on disk.</li>
<li>Read that block into memory to access the data in the file.</li>
</ol>
<h3><a id="user-content-1071-file-buffer-cache" class="anchor" aria-hidden="true" href="#1071-file-buffer-cache"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.7.1 File Buffer Cache</h3>
<p>Cache file blocks in memory to capture locality.</p>
<ul>
<li>Cache is system wide, used and shared by all processes</li>
<li>Reading from the cache makes a disk perform like memory.</li>
<li>Significant reuse: spatial and temporal locality.<br>
Items cached:</li>
<li>Inodes</li>
<li>Directory entries</li>
<li>disk blocks for frequently used files</li>
</ul>
<h3><a id="user-content-1072-caching-and-buffering" class="anchor" aria-hidden="true" href="#1072-caching-and-buffering"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.7.2 Caching and Buffering</h3>
<ul>
<li>Static partitioning: at boot time, allocate a fixed-size cache in memory (10 % of total memory).</li>
<li>Dynamic partitioning: integrate virtual memory pages and file system pages into a unified page cache, so pages of memory can be flexibly allocated for either virtual memory or file system, used by modern systems.</li>
</ul>
<h3><a id="user-content-1073-caching-writes" class="anchor" aria-hidden="true" href="#1073-caching-writes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.7.3 Caching writes</h3>
<p>Buffering a batch of disk writes is helpful because:</p>
<ul>
<li>Combine multiple writes into one write.</li>
<li>Can improve performance by scheduling the buffered writes (lazy updates), e.g. can schedule buffered writes in such a way that they happen sequentially on disk.</li>
<li>Can avoid some unnecessary writes.</li>
</ul>
<h3><a id="user-content-1074-tradeoff-using-caching" class="anchor" aria-hidden="true" href="#1074-tradeoff-using-caching"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.7.4 Tradeoff using caching</h3>
<p>Caching and buffering improves the speed of file system reads and writes. However, it sacrifies the durability of data, e.g. if crash occurs, buffered writes not written to disk are lost, however, if we sync to disk more frequently will incur a lower speed.</p>
<h3><a id="user-content-1075-read-ahead" class="anchor" aria-hidden="true" href="#1075-read-ahead"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.7.5 Read Ahead</h3>
<p>Very helpful for sequentially accessed files, unless blocks for the file are scattered across the disk.</p>
<ul>
<li>FS predicts that the process will request next block.</li>
<li>It goes ahead and requests it from the disk.</li>
<li>This can happen while the process is computing on previous block i.e. overlapping I/O with execution.</li>
<li>When the process requests block, it will be in cache.</li>
<li>Compliments the on-disk cache, which also is doing read ahead.</li>
</ul>
<h3><a id="user-content-1081-disk-components" class="anchor" aria-hidden="true" href="#1081-disk-components"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.8.1 Disk Components</h3>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/disk_components.png"><img src="/modalsoul0226/csc369_review/raw/master/images/disk_components.png" width="500" style="max-width:100%;"></a></p>
<h3><a id="user-content-1082-disk-performance" class="anchor" aria-hidden="true" href="#1082-disk-performance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.8.2 Disk Performance</h3>
<ul>
<li>Seek - moving the disk arm to the correct cylinder</li>
<li>Rotation - waiting for the sector to rotate under the head</li>
<li>Transfer - transferring data from surface into disk controller electronics, sending it back to the host.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/disk_steps.png"><img src="/modalsoul0226/csc369_review/raw/master/images/disk_steps.png" width="600" style="max-width:100%;"></a></p>
<h3><a id="user-content-1083-hardware-optimizations" class="anchor" aria-hidden="true" href="#1083-hardware-optimizations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.8.3 Hardware optimizations</h3>
<p><strong>Track Skew</strong>
<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/track_skew.png"><img src="/modalsoul0226/csc369_review/raw/master/images/track_skew.png" width="600" style="max-width:100%;"></a>
<br></p>
<hr>
<p><strong>Zones</strong>
<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/zones.png"><img src="/modalsoul0226/csc369_review/raw/master/images/zones.png" width="600" style="max-width:100%;"></a>
<br></p>
<hr>
<p><strong>Cache</strong> (Track Buffer)</p>
<ul>
<li>A small memory chip, part of the hard drive, usually 8-16MB.</li>
<li>Different from cache that OS has. Unlike the OS cache, it is aware of the disk geometry. When reading a sector, may cache the whole track to speed up future reads on the same track.</li>
</ul>
<h3><a id="user-content-1084-enhancing-achieved-disk-performance" class="anchor" aria-hidden="true" href="#1084-enhancing-achieved-disk-performance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.8.4 Enhancing achieved disk performance</h3>
<ul>
<li><em>Closeness</em>: reduce seek times by putting related things close to each other</li>
<li><em>Amortization</em>: amortize each positioning delay by grabbing lots of useful data</li>
</ul>
<h3><a id="user-content-1091-problems-for-the-original-unix-fs" class="anchor" aria-hidden="true" href="#1091-problems-for-the-original-unix-fs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.9.1 Problems for the original UNIX fs</h3>
<ul>
<li>Problem #1: On a new FS, blocks are allocated sequentially, close to each other. As the FS gets older, files are being deleted and create random gaps. In aging FS, data blocks end up allocated <strong>far from each other</strong>. Therefore, data blocks for new files end up <strong>scattered across the disk</strong>. Fragmentation of an aging FS requires <strong>more seeking</strong>.</li>
<li>Problem #2: Inodes allocated far from blocks as all inodes are at the beginning of disk, far from data. Traversing file name paths, manipulating files, directories requires <strong>going back and forth from inodes to data blocks</strong>. Hence, incur a lot of seekings.</li>
</ul>
<h3><a id="user-content-1092-cylinder-groups-for-ffs" class="anchor" aria-hidden="true" href="#1092-cylinder-groups-for-ffs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.9.2 Cylinder Groups for FFS</h3>
<p>FFS addressed placement problems using the notion of a <em>cylinder group</em> (aka allocation groups).</p>
<ul>
<li>Disk partitioned into groups of cylinders.</li>
<li>Data blocks in same file allocated in same cylinder group.</li>
<li>Files in same directory allocated in same cylinder group.</li>
<li>Inodes for files are allocated in same cylinder group as file data blocks.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/cylinder_group.png"><img src="/modalsoul0226/csc369_review/raw/master/images/cylinder_group.png" width="600" style="max-width:100%;"></a><br>
Allocation in cylinder groups provides <em>closeness</em>, hence reduces number of long seeks.</p>
<p>Structure of ext3 file system:<br><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/ext3.png"><img src="/modalsoul0226/csc369_review/raw/master/images/ext3.png" width="350" style="max-width:100%;"></a></p>
<h3><a id="user-content-1010-disk-scheduling-algorithms" class="anchor" aria-hidden="true" href="#1010-disk-scheduling-algorithms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10.10 Disk Scheduling Algorithms</h3>
<p>Goal: minimize seeks</p>
<hr>
<p><strong>FCFS</strong> (do nothing)</p>
<ul>
<li>Reasonable when load is low.</li>
<li>Long waiting time for long request queues.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/fcfs.png"><img src="/modalsoul0226/csc369_review/raw/master/images/fcfs.png" width="600" style="max-width:100%;"></a></p>
<hr>
<p><strong>SSTF</strong> (shortest seek time first)</p>
<ul>
<li>Minimize arm movement (seek time), maximize request rate</li>
<li>Favors middle blocks</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/sstf.png"><img src="/modalsoul0226/csc369_review/raw/master/images/sstf.png" width="600" style="max-width:100%;"></a></p>
<hr>
<p><strong>SCAN</strong></p>
<ul>
<li>Service requests in one direction util done, then reverse.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/scan.png"><img src="/modalsoul0226/csc369_review/raw/master/images/scan.png" width="600" style="max-width:100%;"></a></p>
<hr>
<p><strong>C-SCAN</strong></p>
<ul>
<li>Like SCAN, but only go in one direction.</li>
</ul>
<hr>
<p><strong>LOOK / C-LOOK</strong></p>
<ul>
<li>Like SCAN/C-SCAN but only go as far as last request in each direction.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/look.png"><img src="/modalsoul0226/csc369_review/raw/master/images/look.png" width="600" style="max-width:100%;"></a></p>
<h2><a id="user-content-week-11-file-systems-integrity" class="anchor" aria-hidden="true" href="#week-11-file-systems-integrity"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Week 11 File Systems Integrity</h2>
<p>Metadata updates must be synchronous operations. However, a file system operation will affect multiple metadata blocks:</p>
<ul>
<li>Write newly allocated inode to disk before its name is entered in a directory</li>
<li>remove a directory name before the inode is deallocated</li>
<li>deallocate an inode (mark as free in bitmap) before that file's data blocks are placed into the cylinder group free list</li>
</ul>
<p>If the OS crashes in between any of these synchronous operations, then the file system is in an inconsistent state.<br></p>
<hr>
<h3><a id="user-content-111-fsck" class="anchor" aria-hidden="true" href="#111-fsck"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>11.1 FSCK</h3>
<p>Solution: <strong>fsck</strong> - post-crash recovery process to scan file system structure and restore consistency.</p>
<ol>
<li><em>Superblock</em>: sanity checks. Use another superblock copy if suspected corruption.</li>
<li><em>Free blocks</em>: scan inodes (including all indirect blocks), build bitmap. If inodes / data bitmaps inconsistency is detected, resolve by trusting indoes. Ensure inodes in use are marked in inode bitmaps.</li>
<li><em>Inode state</em>: check inode fields for possible corruption. If cannot fix, remove inode and update inode bitmap.</li>
<li><em>Inode links</em>: verify links count for each inode. Traverse directory tree, compute expected links count, fix if needed. If inode discovered, but no dire refers to it, move to "lost+found".</li>
<li><em>Duplicate</em>: check if two different inodes refer to same block. Clear one if obviously bad, or, give each inode its own copy of block.</li>
<li><em>Bad blocks</em>: bad pointers (outside of valid range). Just remove the pointer from the inode or indirect block.</li>
<li><em>Directory checks</em>: integrity of directory structure, e.g. make sure that "." and ".." are the first entries, each inode in a directory entry is allocated, no directory is linked more than once.</li>
</ol>
<p>Log updates to enable roll-back or roll-forward.<br>
However, fsck cannot fix all problems:</p>
<ul>
<li>When data block only contains garbage - cannot know that's the case</li>
<li>Only cares that FS metadata is consistent.</li>
<li>Too slow. Even for small inconsistency, must scan the whole disk. Scanning all the integrities could take hours.</li>
</ul>
<hr>
<h3><a id="user-content-112-journaling" class="anchor" aria-hidden="true" href="#112-journaling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>11.2 Journaling</h3>
<p>Another solution: <strong>Journaling</strong> (write-ahead logging)<br>
Basice idea: when doing an update, before overwriting structures, first write down a little note (elsewhere on disk) saying what you plan to do.</p>
<p>If a crash takes place during the actual write, just go back to journal and retry the actual writes. Don't need to scan the entire disk, can also recover data.</p>
<p>if a crash happens before journal write finishes, then it doesn't matter since the actual write has NOT happened at all, so nothing is inconsistent.</p>
<p>Structure of the <strong>Journal entry</strong>:<br></p>
<ul>
<li>Starts with a "transaction begin" (TxBegin) block, containing a transaction ID.</li>
<li>Followed by blocks with the content to be written:<br>
Â Â  - Physical logging: log exact physical content<br>
Â Â  - Logical logging: log more compact logical representation</li>
<li>Ends with a "transaction end" (TxEnd) block, containing the corresponding TID.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/journal_entry.png"><img src="/modalsoul0226/csc369_review/raw/master/images/journal_entry.png" width="600" style="max-width:100%;"></a></p>
<p>Steps to write a journal entry:<br></p>
<ol>
<li>Buffer updates in memory for some time.</li>
<li>Write all except TxEnd to journal. (<strong>Journal Write Step</strong>)</li>
<li>Then write TxEnd. (<strong>Journal Commit Step</strong>)</li>
<li>Finally, journal entry is now safe, write the actual data and metadata to their right locations on FS. (<strong>Checkpoint Step</strong>)</li>
<li>Mark transaction as free in journal. (<strong>Free Step</strong>)</li>
</ol>
<p>Recovery Summary:</p>
<ul>
<li>If crash happens during the journal write step (before journal commit step), just skip the pending update.</li>
<li>If crash happens during the checkpoint step, after reboot, scan the journal and look for committed transactions. Replay these transactions. After replay, FS is guaranteed to be consistent. Called <em>redo logging</em>.</li>
</ul>
<hr>
<h3><a id="user-content-113-metadata-journaling" class="anchor" aria-hidden="true" href="#113-metadata-journaling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>11.3 Metadata Journaling</h3>
<p>Although recovery is much faster with journaling (replay only a few transactions instead of checking the whole disk). However, normal operations are slower, as every update must write to the journal first, then do the update, writing time is at least doubled. Journal writing may break sequential writing as jump back-and-forth between writes to journal and writes to main region.</p>
<p>Metadata journaling is similar, except we only writes FS metadata (no actual data)to the journal:<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/metadata_journaling.png"><img src="/modalsoul0226/csc369_review/raw/master/images/metadata_journaling.png" width="550" style="max-width:100%;"></a></p>
<p>Steps to write a journal entry:</p>
<ol>
<li><strong>Write data</strong> to final location, wait for completion.</li>
<li><strong>Journal metadata write</strong>. Write the begin block and metadata to the log, wait for writes to complete.</li>
<li><strong>Journal commit</strong>. Write the transaction commit block (containing TxE) to the log.</li>
<li><strong>Checkpoint metadata</strong>. Write the contents of the metadata update to their final locations within the file system.</li>
<li>Free.</li>
</ol>
<p>Recovery Summary: <br>
If a crash happens before journal commit, the journal entry simply won't appear in the final log. If a crash happens between the commit step and the free step, replay the journal entry (i.e. try to checkpoint metadata again).</p>
<hr>
<p><strong>Summary: Journaling</strong><br>
Journaling ensures file system consistency. Complexity is in the size of the journal, not the size of disk.</p>
<p>Metadata journaling is the most commonly used. It reduces the amount of traffic to the journal, and provides reasonable consistency guarantees at the same time.</p>
<hr>
<h3><a id="user-content-114-log-structured-file-system" class="anchor" aria-hidden="true" href="#114-log-structured-file-system"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>11.4 Log-structured File System</h3>
<p><strong>Motivations</strong>:</p>
<ul>
<li><em>System memories are growing</em>: as memory gets bigger, more data can be cached in memory. As more data is cached, disk traffic increasingly consists of writes, since reads are serviced by the cache.</li>
<li><em>Existing file systems perform poorly on many common workloads</em>: FFS would perform a large number of writes to create a new file of size one block: one for a new inode, one to update the inode bitmap, one to the directory data block, one to the current directory inode... Although FFS places all of these blocks within the same block group, FFS incurs many short seeks and subsequent rotational delays.</li>
</ul>
<hr>
<p><strong>The basic idea</strong>:<br>
Buffer all writes (metadata + data) using an in-memory segment. Once the segment is full (write buffering), write the segment to a log. LFS never overwrites existing data, but rather <em>always</em> writes segments to free locations.</p>
<hr>
<p><strong>Finding Inodes</strong><br>
<em>Difficulties in locating inodes</em>: inodes all are scattered throughout the disk. Also, since we never overwrite in place, and thus the latest version of an inode keeps moving.</p>
<p>Solution through indirection -- <strong>The Inode Map</strong>: <br>
LFS solves these problems using an <strong>inode map</strong> which translates inode numbers to (the most recent) on-disk inode locations.</p>
<p>Trick 1: LFS caches the entire inode map in memory. Thus, determining the on-disk location for an inode doesn't require a disk seek.</p>
<p>Trick 2: LFS breaks the inode map into small, logical pieces. When LFS must write an updated inode to the log, LFS also writes the piece of the inode map that is associated with the inode. Periodically, LFS updates a fixed location called the <strong>checkpoint region</strong>:</p>
<ul>
<li>The checkpoint region contains pointers to the current versions of the inode pieces (pieces of inode maps).</li>
<li>During a clean shutdown, LFS flushes the entire in-memory inode map to the checkpoint region.</li>
<li>After a clean reboot, LFS reads the checkpoint region to create the in-memory indoe map.</li>
</ul>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/lfs_structure.png"><img src="/modalsoul0226/csc369_review/raw/master/images/lfs_structure.png" width="320" align="left" style="max-width:100%;"></a></p>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/lfs_dir.png"><img src="/modalsoul0226/csc369_review/raw/master/images/lfs_dir.png" width="320" align="center" style="max-width:100%;"></a></p>
<hr>
<p><strong>Reading a file from LFS</strong></p>
<ol>
<li>LFS locates the checkpoint region with fixed on-disk address, reads in the entire inode map, and caches it in memory.</li>
<li>When given an inode number of a file, LFS looks up in inode map which translates inode number to disk address, and then reads in the most recent version of the inode.</li>
<li>Finally, LFS uses direct pointers or indirect pointers to read the data block like a typical UNIX file system.</li>
</ol>
<p>In the common cases, LFS performs the same number of IOs as a typical file system when reading a file from disk. The entire inode map is cached and thus the <strong>extra work</strong> LFS does during a read is to look up the inode's address in the inode map.</p>
<hr>
<p><strong>Crash recovery</strong></p>
<p>During normal operation, LFS buffers writes in a segment, and then writes the segment to disk (CR points to a head and tail segment, and each segment points to the next segment). LFS also periodically updates the checkpoint region.</p>
<p>If crash happens during the write to the CR. Since LFS keeps two CRs, one at either end of the disk, and writes to them alternately. When updating the CR, it first writes out a header with timestamp, the body of CR, and finally the end with timestamp. If the system crashes during a CR update, LFS can detect this by seeing an inconsistent pair of timestamps, and choose to use the most recent CR that has consistent timestamps.</p>
<p>If crash happens during the write of a segment. Upon reboot, LFS simply recover by reading in the checkpoint region and rebuild the entire inode map.</p>
<p>In addition, LFS uses a technique known as <em>roll forward</em>. Basically, it uses the last valid CR to find the tail segment, and then use that to read through the next segments and see if there are any valid updates within it.</p>
<hr>
<p><strong>Garbage collection</strong></p>
<p>Since LFS repeatedly writes latest version of a file to new locations on disk. Older versions of files (garbage) are scattered throughout the disk. Must periodically find these obsolete versions of file data and clean up in order to provide free blocks for subsequent writes. Cleaning is done on a segment-by-segment basis. Since the segments are large chunks, it avoids the situation of having small "holes" of free space.</p>
<hr>
<p><strong>Advantage</strong>:</p>
<ul>
<li>Very efficient writes.</li>
</ul>
<p><strong>Disadvantage</strong>:</p>
<ul>
<li>Less efficient reads.</li>
<li>Garbage collection is tricky.</li>
</ul>
<hr>
<h3><a id="user-content-115-raid" class="anchor" aria-hidden="true" href="#115-raid"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>11.5 RAID</h3>
<p><em>Reliability strategies</em>:</p>
<ul>
<li>Data duplicated - mirror images, redundant full copy. If one disk fails, we have the mirror.</li>
<li>Data spread out accross multiple disks with redundancy, can recover from a disk failure, by reconstructing the data.</li>
</ul>
<hr>
<p><em>Concepts</em>:</p>
<ul>
<li>Redundancy/Mirroring: keep multiple copies of the same block on different drives, just in case a drive fails.</li>
<li>Parity information: XOR each bit from 2 drives, store checksum on 3rd drive.</li>
</ul>
<hr>
<p>Some standard RAID levels:
<br><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/raid_levels.png"><img src="/modalsoul0226/csc369_review/raw/master/images/raid_levels.png" width="550" style="max-width:100%;"></a></p>
<hr>
<h2><a id="user-content-week-12-deadlock" class="anchor" aria-hidden="true" href="#week-12-deadlock"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Week 12 Deadlock</h2>
<h3><a id="user-content-121-non-deadlock-bugs" class="anchor" aria-hidden="true" href="#121-non-deadlock-bugs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.1 Non-deadlock bugs</h3>
<p>- <strong>Atomicity violation bugs</strong>: when a code region is intended to be atomic, but the atomicity is not enforced during execution, e.g. two threads modify a counter concurrently, solve by locking around the critical section (where shared resource is modified).</p>
<p>- <strong>Order violation bugs</strong>: when the desired order between memory accesses is flipped (i.e. when a certain order is assumed, but not specifically enforced).</p>
<hr>
<h3><a id="user-content-122-definition-of-deadlock" class="anchor" aria-hidden="true" href="#122-definition-of-deadlock"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.2 Definition of deadlock</h3>
<p>The <strong>mutual</strong> blocking of a set of processes or threads. Each process in the set is blocked, waiting for an event which can only be caused by another process in the set.</p>
<p>Two types of deadlocks:</p>
<ul>
<li>Communication deadlocks: communicate with each other</li>
<li>Resource deadlocks: compete for system resources.</li>
</ul>
<p>Root causes of <strong>resource deadlocks</strong>:</p>
<ul>
<li>Resources are <em>finite</em>.</li>
<li>Processes <em>wait</em> if a resource they need is unavailable.</li>
<li>Resources may be <em>held</em> by other waiting processes.</li>
</ul>
<hr>
<h3><a id="user-content-123-conditions-for-deadlock" class="anchor" aria-hidden="true" href="#123-conditions-for-deadlock"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.3 Conditions for deadlock</h3>
<ol>
<li><strong>Mutual Exclusion</strong>: only one process may use a resource at a time.</li>
<li><strong>Hold and wait</strong>: a process may hold allocated resources while awaiting assignment of others.</li>
<li><strong>No preemption</strong>: no resource can be forcibly removed from a process holding it.</li>
</ol>
<blockquote>
<p>These are <strong>necessary</strong> conditions.</p>
</blockquote>
<ol start="4">
<li><strong>Circular wait</strong>: a closed chain of processes exists, such that each process holds at least one resource needed by the next process in the chain.</li>
</ol>
<blockquote>
<p>Together, these four conditions are <strong>necessary and sufficient</strong> for deadlock.</p>
</blockquote>
<p><em>Idea</em>: break one -&gt; deadlock cannot occur</p>
<hr>
<h3><a id="user-content-124-deadlock-prevention" class="anchor" aria-hidden="true" href="#124-deadlock-prevention"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.4 Deadlock prevention</h3>
<h3><a id="user-content-1241-preventing-mutual-exclusion" class="anchor" aria-hidden="true" href="#1241-preventing-mutual-exclusion"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.4.1 Preventing Mutual Exclusion</h3>
<p>Avoid the need for mutual exclusion. In general, we know this is difficult, because the code we wish to run does indeed have critical sections. The idea is that one could design various data structures without locks at all (<em>lock-free</em>). Using powerful hardware instructions, we can build data structures in a manner that does not require explicit locking.
<br><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/atomic_add.png"><img src="/modalsoul0226/csc369_review/raw/master/images/atomic_add.png" width="600" style="max-width:100%;"></a></p>
<p><br><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/ll_insert.png"><img src="/modalsoul0226/csc369_review/raw/master/images/ll_insert.png" width="550" style="max-width:100%;"></a></p>
<h3><a id="user-content-1242-preventing-hold-and-wait" class="anchor" aria-hidden="true" href="#1242-preventing-hold-and-wait"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.4.2 Preventing Hold and wait</h3>
<p><strong>Break "hold and wait"</strong> - processes must request all resources at once, and will block utill the entire request can be granted simultaneously, i.e. avoid the hold-and-wait by acquiring all locks at once.</p>
<p>Note that the solution is problematic for a number of reasons.</p>
<ul>
<li>When calling a routine, this approach requires us to know exactly which locks must be held and to acquire them ahead of time.</li>
<li>This technique also is likely to decrease concurrency as all locks must be acquired early on (at once) instead of when they are truly needed.</li>
</ul>
<h3><a id="user-content-1243-no-preemption" class="anchor" aria-hidden="true" href="#1243-no-preemption"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.4.3 No preemption</h3>
<p>Not feasible, or highly complex to safely achieve.</p>
<h3><a id="user-content-1244-preventing-circular-wait" class="anchor" aria-hidden="true" href="#1244-preventing-circular-wait"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.4.4 Preventing circular wait</h3>
<p><strong>Break "circular wait"</strong> - assigns a linear ordering to resource types and require
that a process holding a resource of one type, R, can only request resources that follow R in the ordering.</p>
<p>For example, if there are only two locks in the system (L1 and L2), you can prevent deadlock by always acquiring L1 before L2. Such strict ordering ensures that no cyclical wait arises.</p>
<hr>
<h3><a id="user-content-125-deadlock-avoidance" class="anchor" aria-hidden="true" href="#125-deadlock-avoidance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.5 Deadlock Avoidance</h3>
<p><strong>Avoidance</strong> allows the first three conditions, but ensures that circular wait cannot possibly occur.</p>
<p>- Two Avoidance Strategies</p>
<ul>
<li>Do not start a process if its maximum resource requirements, together with the maximum needs of all processes already running, exceed the total system resources.</li>
<li>Do not grant an individual resource request, if any future resource allocation "path" leads to deadlock.</li>
</ul>
<p>- Restrictions on Avoidance</p>
<ol>
<li>Maximum <em>resource requirements</em> for each process <em>must be known in advance</em>.</li>
<li>Processes <em>must be independent</em>. If order of execution is constrained by synchronization requirements, system is not free to choose a safe sequence.</li>
<li>There must be a <em>fixed number of resources to allocate</em>.</li>
</ol>
<hr>
<h3><a id="user-content-126-bankers-algorithm" class="anchor" aria-hidden="true" href="#126-bankers-algorithm"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.6 Banker's algorithm</h3>
<p>Each thread</p>
<ul>
<li>States its maximum resource requirements.</li>
<li>Acquires and releases resources incrementally.</li>
</ul>
<p>Runtime system delays granting some requests to ensure the system never deadlocks.</p>
<p>System can be in one of three states:</p>
<ul>
<li><strong>Safe</strong>: for any possible sequence of resource requests, there is at least one safe sequence that eventually succeeds in granting all pending and future requests.</li>
<li><strong>Unsafe</strong>: if all threads request their maximum resources at this point, the system would deadlock (i.e. there is no safe sequence).</li>
<li><strong>Deadlocked</strong></li>
</ul>
<hr>
<p><em>Basic idea</em>:</p>
<ol>
<li>Can the request be granted? If not, request is impossible at this point -&gt; block the process until we can grant the request.</li>
<li>Assume that the request is granted, update state assuming request is granted.</li>
<li>Check if new state is safe.</li>
</ol>
<p>e.g.<br>
<a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/bankers_algo.png"><img src="/modalsoul0226/csc369_review/raw/master/images/bankers_algo.png" width="600" style="max-width:100%;"></a></p>
<hr>
<h3><a id="user-content-127-deadlock-detection" class="anchor" aria-hidden="true" href="#127-deadlock-detection"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.7 Deadlock Detection</h3>
<p>Prevention and avoidance are awkward and costly, need to be cautious leads to low utilization.<br>
Instead, allow deadlocks to occur, but detect when this happens and find a way to break it. (check for circular wait condition periodically)<br>
When should the system check for deadlocks ?</p>
<ol>
<li>on every allocation request</li>
<li>fixed periods</li>
<li>when system utilization starts to drop below a threshold</li>
</ol>
<hr>
<p><strong>Resource allocation graph</strong><br>
Finding circular waits is equivalent to finding a cycle in the <em>resource allocation graph</em>.</p>
<ul>
<li>Nodes are processes (circle) and resources (square).</li>
<li>Arcs from a resource to a process represent <strong>allocations</strong>.</li>
<li>Arcs from a process to a resource represent <strong>ungranted requests</strong>.</li>
</ul>
<blockquote>
<p>Any algorithm for finding a cycle in a directed graph will do for our goal. (<em>Note</em>: with multiple instances of a type of resource, cycles may exist without deadlock)</p>
</blockquote>
<p><a target="_blank" href="/modalsoul0226/csc369_review/blob/master/images/resource_alloc_graph.png"><img src="/modalsoul0226/csc369_review/raw/master/images/resource_alloc_graph.png" width="600" style="max-width:100%;"></a></p>
<hr>
<h3><a id="user-content-128-deadlock-recovery" class="anchor" aria-hidden="true" href="#128-deadlock-recovery"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.8 Deadlock recovery</h3>
<p>Basic idea to break the cycle:</p>
<ul>
<li>Drastic - kill all deadlocked processes</li>
<li>Painful - back up and restart deadlocked processes (hopefully, non-determinism will keep deadlock from repeating)</li>
<li>Better - selectively kill deadlocked processes util cycle is broken, re-run detection algorithm after each kill.</li>
<li>Tricky - selectively preempt resources until cycle is broken, processes must be rolled back.</li>
</ul>
<hr>
<h3><a id="user-content-129-deadlock-and-starvation" class="anchor" aria-hidden="true" href="#129-deadlock-and-starvation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12.9 Deadlock and Starvation</h3>
<p>A set of threads is in a <strong>deadlocked</strong> state when every process in the set is waiting for an event that can be caused only by another process in the set.</p>
<p>A thread is suffering <strong>starvation</strong> if it is waiting indefinitely because other threads are in some way preferred.</p>
</article>
  </div>

  </div>

  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
  <div id="jump-to-line" style="display:none">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form" action="" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
      <button type="submit" class="btn">Go</button>
</form>  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2018 <span title="0.47048s from unicorn-2165064099-hptgj">GitHub</span>, Inc.</li>
        <li class="mr-3"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://help.github.com/articles/github-security/" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a href="https://blog.github.com" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
    You canât perform that action at this time.
  </div>


    <script crossorigin="anonymous" integrity="sha512-2GVr5rsbbfKbHM6oRrri41+qJ2ltJBCqluASS29fj+9yHGLFmFhq0C64VMdL57UJ34G2+FXU+8FZhaAOnsCEhw==" type="application/javascript" src="https://assets-cdn.github.com/assets/compat-bb7abfb15ed4ffb0da9056d4c980fba5.js"></script>
    <script crossorigin="anonymous" integrity="sha512-HD3VGNUZdKcyhzxthfJME6V4ByRTPdCGqlqq7sPm8jFweQQjz00nAJzWMAR9GUDiP2yYWqSxM6JxNxc2J/4rGQ==" type="application/javascript" src="https://assets-cdn.github.com/assets/frameworks-2afbd5df19ed1f9aaf0a04c15e9d0b35.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-aCqKcRJtWz/Dbo5GyOOfgl59pT6DJo7r5VnysQI443QqGgyy9t2Ay5HxkQ0O1UDD2X0lWAkplARDngThD1YX5Q==" type="application/javascript" src="https://assets-cdn.github.com/assets/github-e387552effa3e59a79516f6de6e23bb7.js"></script>
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
  </div>
</div>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

<div id="hovercard-aria-description" class="sr-only">
  Press h to open a hovercard with more details.
</div>


  </body>
</html>

